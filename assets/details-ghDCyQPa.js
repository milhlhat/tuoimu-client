import{s as G,h as d,b_ as Le,r as p,l as re,d as H,j as e,o as z,p as ae,b$ as $e,u as ie,w as he,T as Fe,c0 as Re,c1 as pe,a as ge,k as be,aw as X,q as ke,c2 as Me,c3 as Ie,aK as Ne,a3 as Q,a4 as Be,v as me,U as V,n as U,a6 as A,W as N,af as Ue,N as Ge,H as ve,I as se,aI as Oe,aJ as ue,V as ze,Y as _e}from"./index-IfVVPMW4.js";import{C as We,M as He,u as Ke}from"./markdown-KCbzoBS3.js";import"./styles-xyBGE8M4.js";import"./styles-CcTe2FfQ.js";import"./image-ttJYPmfy.js";import"./text-max-line-NOb7bSwu.js";import{c as qe,b as ne}from"./styles-1R5CePEv.js";import{c as Ve,A as ee,b as Ze}from"./format-number-Ks_J08-p.js";import{b as Je,c as Ye,P as Qe,d as Xe}from"./post-list-GHkmdwzn.js";import{E as et}from"./empty-content-KXlsYjff.js";import{u as tt}from"./use-boolean-CQsovBip.js";import{f as je}from"./format-time-1pmRPz-H.js";import{L as ot}from"./ListItem-xw241Xvf.js";import{P as st}from"./Pagination-bH_OBbb4.js";import{a as nt,F as rt,R as at,L as it,o as lt}from"./rhf-text-field-v4k_7M-2.js";import{u as ct}from"./use-responsive-GL4LhIOt.js";import{L as dt}from"./ListItemText-S1pFsJOF.js";import{F as ye}from"./Fab-jtEcAx6Q.js";import{C as pt}from"./Chip-Jj6qylYt.js";import{F as mt,C as ut}from"./Checkbox-tZ-sP82j.js";import"./CardContent-rxbc9wAC.js";import"./Grid2-Q1Wh3ZrW.js";import"./SwitchBase-eqMi5EsA.js";const xt=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],xe={small:-16,medium:null},ft=t=>{const{classes:o}=t;return ae({root:["root"],avatar:["avatar"]},$e,o)},ht=G("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,o)=>d({[`& .${Le.avatar}`]:o.avatar},o.root)})(({theme:t})=>({[`& .${Ve.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),gt=G(ee,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(t,o)=>o.avatar})(({theme:t})=>({border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),bt=p.forwardRef(function(o,s){var n;const i=re({props:o,name:"MuiAvatarGroup"}),{children:m,className:l,component:f="div",componentsProps:u={},max:v=5,renderSurplus:a,slotProps:j={},spacing:h="medium",total:L,variant:g="circular"}=i,E=H(i,xt);let b=v<2?2:v;const P=d({},i,{max:v,spacing:h,component:f,variant:g}),T=ft(P),w=p.Children.toArray(m).filter(x=>p.isValidElement(x)),C=L||w.length;C===b&&(b+=1),b=Math.min(C+1,b);const $=Math.min(w.length,b-1),y=Math.max(C-b,C-$,0),K=a?a(y):`+${y}`,R=h&&xe[h]!==void 0?xe[h]:-h,k=(n=j.additionalAvatar)!=null?n:u.additionalAvatar;return e.jsxs(ht,d({as:f,ownerState:P,className:z(T.root,l),ref:s},E,{children:[y?e.jsx(gt,d({ownerState:P,variant:g},k,{className:z(T.avatar,k==null?void 0:k.className),style:d({marginLeft:R},k==null?void 0:k.style),children:K})):null,w.slice(0,$).reverse().map((x,F)=>p.cloneElement(x,{className:z(x.props.className,T.avatar),style:d({marginLeft:F===$-1?void 0:R},x.props.style),variant:x.props.variant||g}))]}))}),vt=bt,jt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],yt={entering:{transform:"none"},entered:{transform:"none"}},Pt=p.forwardRef(function(o,s){const n=ie(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:m,appear:l=!0,children:f,easing:u,in:v,onEnter:a,onEntered:j,onEntering:h,onExit:L,onExited:g,onExiting:E,style:b,timeout:P=i,TransitionComponent:T=Fe}=o,w=H(o,jt),C=p.useRef(null),$=he(C,f.ref,s),y=c=>D=>{if(c){const M=C.current;D===void 0?c(M):c(M,D)}},K=y(h),R=y((c,D)=>{Re(c);const M=pe({style:b,timeout:P,easing:u},{mode:"enter"});c.style.webkitTransition=n.transitions.create("transform",M),c.style.transition=n.transitions.create("transform",M),a&&a(c,D)}),k=y(j),x=y(E),F=y(c=>{const D=pe({style:b,timeout:P,easing:u},{mode:"exit"});c.style.webkitTransition=n.transitions.create("transform",D),c.style.transition=n.transitions.create("transform",D),L&&L(c)}),_=y(g),W=c=>{m&&m(C.current,c)};return e.jsx(T,d({appear:l,in:v,nodeRef:C,onEnter:R,onEntered:k,onEntering:K,onExit:F,onExited:_,onExiting:x,addEndListener:W,timeout:P},w,{children:(c,D)=>p.cloneElement(f,d({style:d({transform:"scale(0)",visibility:c==="exited"&&!v?"hidden":void 0},yt[c],b,f.props.style),ref:$},D))}))}),Ct=Pt;function Dt(t){return be("MuiSpeedDial",t)}const St=ge("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),J=St,Tt=["ref"],wt=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],Et=["ref"],At=t=>{const{classes:o,open:s,direction:n}=t,i={root:["root",`direction${X(n)}`],fab:["fab"],actions:["actions",!s&&"actionsClosed"]};return ae(i,Dt,o)};function q(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}function Lt(t,o,s){return t<o?o:t>s?s:t}const B=32,Y=16,$t=G("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[`direction${X(s.direction)}`]]}})(({theme:t,ownerState:o})=>d({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},o.direction==="up"&&{flexDirection:"column-reverse",[`& .${J.actions}`]:{flexDirection:"column-reverse",marginBottom:-B,paddingBottom:Y+B}},o.direction==="down"&&{flexDirection:"column",[`& .${J.actions}`]:{flexDirection:"column",marginTop:-B,paddingTop:Y+B}},o.direction==="left"&&{flexDirection:"row-reverse",[`& .${J.actions}`]:{flexDirection:"row-reverse",marginRight:-B,paddingRight:Y+B}},o.direction==="right"&&{flexDirection:"row",[`& .${J.actions}`]:{flexDirection:"row",marginLeft:-B,paddingLeft:Y+B}})),Ft=G(ye,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,o)=>o.fab})(()=>({pointerEvents:"auto"})),Rt=G("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.actions,!s.open&&o.actionsClosed]}})(({ownerState:t})=>d({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),kt=p.forwardRef(function(o,s){const n=re({props:o,name:"MuiSpeedDial"}),i=ie(),m={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:l,FabProps:{ref:f}={},children:u,className:v,direction:a="up",hidden:j=!1,icon:h,onBlur:L,onClose:g,onFocus:E,onKeyDown:b,onMouseEnter:P,onMouseLeave:T,onOpen:w,open:C,TransitionComponent:$=Ct,transitionDuration:y=m,TransitionProps:K}=n,R=H(n.FabProps,Tt),k=H(n,wt),[x,F]=ke({controlled:C,default:!1,name:"SpeedDial",state:"open"}),_=d({},n,{open:x,direction:a}),W=At(_),c=p.useRef();p.useEffect(()=>()=>{clearTimeout(c.current)},[]);const D=p.useRef(0),M=p.useRef(),O=p.useRef([]);O.current=[O.current[0]];const Pe=p.useCallback(r=>{O.current[0]=r},[]),Ce=he(f,Pe),De=(r,S)=>I=>{O.current[r+1]=I,S&&S(I)},Se=r=>{b&&b(r);const S=r.key.replace("Arrow","").toLowerCase(),{current:I=S}=M;if(r.key==="Escape"){F(!1),O.current[0].focus(),g&&g(r,"escapeKeyDown");return}if(q(S)===q(I)&&q(S)!==void 0){r.preventDefault();const oe=S===I?1:-1,Z=Lt(D.current+oe,0,O.current.length-1);O.current[Z].focus(),D.current=Z,M.current=I}};p.useEffect(()=>{x||(D.current=0,M.current=void 0)},[x]);const le=r=>{r.type==="mouseleave"&&T&&T(r),r.type==="blur"&&L&&L(r),clearTimeout(c.current),r.type==="blur"?c.current=setTimeout(()=>{F(!1),g&&g(r,"blur")}):(F(!1),g&&g(r,"mouseLeave"))},Te=r=>{R.onClick&&R.onClick(r),clearTimeout(c.current),x?(F(!1),g&&g(r,"toggle")):(F(!0),w&&w(r,"toggle"))},ce=r=>{r.type==="mouseenter"&&P&&P(r),r.type==="focus"&&E&&E(r),clearTimeout(c.current),x||(c.current=setTimeout(()=>{F(!0),w&&w(r,{focus:"focus",mouseenter:"mouseEnter"}[r.type])}))},te=l.replace(/^[^a-z]+|[^\w:.-]+/gi,""),de=p.Children.toArray(u).filter(r=>p.isValidElement(r)),we=de.map((r,S)=>{const I=r.props,{FabProps:{ref:oe}={},tooltipPlacement:Z}=I,Ee=H(I.FabProps,Et),Ae=Z||(q(a)==="vertical"?"left":"top");return p.cloneElement(r,{FabProps:d({},Ee,{ref:De(S,oe)}),delay:30*(x?S:de.length-S),open:x,tooltipPlacement:Ae,id:`${te}-action-${S}`})});return e.jsxs($t,d({className:z(W.root,v),ref:s,role:"presentation",onKeyDown:Se,onBlur:le,onFocus:ce,onMouseEnter:ce,onMouseLeave:le,ownerState:_},k,{children:[e.jsx($,d({in:!j,timeout:y,unmountOnExit:!0},K,{children:e.jsx(Ft,d({color:"primary","aria-label":l,"aria-haspopup":"true","aria-expanded":x,"aria-controls":`${te}-actions`},R,{onClick:Te,className:z(W.fab,R.className),ref:Ce,ownerState:_,children:p.isValidElement(h)&&Me(h,["SpeedDialIcon"])?p.cloneElement(h,{open:x}):h}))})),e.jsx(Rt,{id:`${te}-actions`,role:"menu","aria-orientation":q(a),className:z(W.actions,!x&&W.actionsClosed),ownerState:_,children:we})]}))}),Mt=kt;function It(t){return be("MuiSpeedDialAction",t)}const Nt=ge("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Bt=Nt,Ut=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],Gt=t=>{const{open:o,tooltipPlacement:s,classes:n}=t,i={fab:["fab",!o&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${X(s)}`,!o&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return ae(i,It,n)},Ot=G(ye,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.fab,!s.open&&o.fabClosed]}})(({theme:t,ownerState:o})=>d({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:Ie(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!o.open&&{opacity:0,transform:"scale(0)"})),zt=G("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.staticTooltip,!s.open&&o.staticTooltipClosed,o[`tooltipPlacement${X(s.tooltipPlacement)}`]]}})(({theme:t,ownerState:o})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Bt.staticTooltipLabel}`]:d({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!o.open&&{opacity:0,transform:"scale(0.5)"},o.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},o.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),_t=G("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,o)=>o.staticTooltipLabel})(({theme:t})=>d({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),Wt=p.forwardRef(function(o,s){const n=re({props:o,name:"MuiSpeedDialAction"}),{className:i,delay:m=0,FabProps:l={},icon:f,id:u,open:v,TooltipClasses:a,tooltipOpen:j=!1,tooltipPlacement:h="left",tooltipTitle:L}=n,g=H(n,Ut),E=d({},n,{tooltipPlacement:h}),b=Gt(E),[P,T]=p.useState(j),w=()=>{T(!1)},C=()=>{T(!0)},$={transitionDelay:`${m}ms`},y=e.jsx(Ot,d({size:"small",className:z(b.fab,i),tabIndex:-1,role:"menuitem",ownerState:E},l,{style:d({},$,l.style),children:f}));return j?e.jsxs(zt,d({id:u,ref:s,className:b.staticTooltip,ownerState:E},g,{children:[e.jsx(_t,{style:$,id:`${u}-label`,className:b.staticTooltipLabel,ownerState:E,children:L}),p.cloneElement(y,{"aria-labelledby":`${u}-label`})]})):(!v&&P&&T(!1),e.jsx(Ne,d({id:u,ref:s,title:L,placement:h,onClose:w,onOpen:C,open:v&&P,classes:a},g,{children:y})))}),Ht=Wt;function Kt({title:t,author:o,coverUrl:s,createdAt:n}){const i=ie(),m=ct("up","sm");return e.jsx(Q,{sx:{height:480,overflow:"hidden",...Be({imgUrl:s,startColor:`${me(i.palette.grey[900],.64)} 0%`,endColor:`${me(i.palette.grey[900],.64)} 100%`})},children:e.jsxs(V,{sx:{height:1,position:"relative"},children:[e.jsx(U,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:t}),e.jsxs(A,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[o&&n&&e.jsxs(A,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[e.jsx(ee,{alt:o.name,src:o.avatarUrl,sx:{width:64,height:64,mr:2}}),e.jsx(dt,{sx:{color:"common.white"},primary:o.name,secondary:je(n),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),e.jsx(Mt,{direction:m?"left":"up",ariaLabel:"Share post",icon:e.jsx(N,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:Ue.map(l=>e.jsx(Ht,{icon:e.jsx(N,{icon:l.icon,sx:{color:l.color}}),tooltipTitle:l.name,tooltipPlacement:"top",FabProps:{color:"default"}},l.name))})]})]})})}function fe({name:t,avatarUrl:o,message:s,tagUser:n,postedAt:i,hasReply:m}){const l=tt();return e.jsxs(ot,{sx:{p:0,pt:3,alignItems:"flex-start",...m&&{pl:8}},children:[e.jsx(ee,{alt:t,src:o,sx:{mr:2,width:48,height:48}}),e.jsxs(A,{flexGrow:1,sx:{pb:3,borderBottom:f=>`solid 1px ${f.palette.divider}`},children:[e.jsx(U,{variant:"subtitle2",sx:{mb:.5},children:t}),e.jsx(U,{variant:"caption",sx:{color:"text.disabled"},children:je(i)}),e.jsxs(U,{variant:"body2",sx:{mt:1},children:[n&&e.jsxs(Q,{component:"strong",sx:{mr:.5},children:["@",n]}),s]}),l.value&&e.jsx(Q,{sx:{mt:2},children:e.jsx(Ge,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!m&&e.jsx(ve,{size:"small",color:l.value?"primary":"inherit",startIcon:e.jsx(N,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function qt({comments:t}){return e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:t.map(o=>{const{id:s,replyComment:n,name:i,users:m,message:l,avatarUrl:f,postedAt:u}=o,v=!!n.length;return e.jsxs(Q,{children:[e.jsx(fe,{name:i,message:l,postedAt:u,avatarUrl:f}),v&&n.map(a=>{const j=m.find(h=>h.id===a.userId);return e.jsx(fe,{name:(j==null?void 0:j.name)||"",message:a.message,postedAt:a.postedAt,avatarUrl:(j==null?void 0:j.avatarUrl)||"",tagUser:a.tagUser,hasReply:!0},a.id)})]},s)})}),e.jsx(st,{count:8,sx:{my:5,mx:"auto"}})]})}function Vt(){const t=qe().shape({comment:ne().required("Comment is required"),name:ne().required("Name is required"),email:ne().required("Email is required").email("Email must be a valid email address")}),o={comment:"",name:"",email:""},s=nt({resolver:lt(t),defaultValues:o}),{reset:n,handleSubmit:i,formState:{isSubmitting:m}}=s,l=i(async f=>{try{await new Promise(u=>setTimeout(u,500)),n(),console.info("DATA",f)}catch(u){console.error(u)}});return e.jsx(rt,{methods:s,onSubmit:l,children:e.jsxs(A,{spacing:3,children:[e.jsx(at,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),e.jsxs(A,{direction:"row",alignItems:"center",children:[e.jsxs(A,{direction:"row",alignItems:"center",flexGrow:1,children:[e.jsx(se,{children:e.jsx(N,{icon:"solar:gallery-add-bold"})}),e.jsx(se,{children:e.jsx(N,{icon:"eva:attach-2-fill"})}),e.jsx(se,{children:e.jsx(N,{icon:"eva:smiling-face-fill"})})]}),e.jsx(it,{type:"submit",variant:"contained",loading:m,children:"Post comment"})]})]})})}function Zt({title:t}){const{post:o,postError:s,postLoading:n}=Je(t),{latestPosts:i,latestPostsLoading:m}=Ye(t),l=e.jsx(Xe,{}),f=e.jsx(V,{sx:{my:10},children:e.jsx(et,{filled:!0,title:`${s==null?void 0:s.message}`,action:e.jsx(ve,{component:Oe,href:ue.post.root,startIcon:e.jsx(N,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}})}),u=o&&e.jsxs(e.Fragment,{children:[e.jsx(Kt,{title:o.title,author:o.author,coverUrl:o.coverUrl,createdAt:o.createdAt}),e.jsx(V,{maxWidth:!1,sx:{py:3,mb:5,borderBottom:a=>`solid 1px ${a.palette.divider}`},children:e.jsx(We,{links:[{name:"Home",href:"/"},{name:"Blog",href:ue.post.root},{name:o==null?void 0:o.title}],sx:{maxWidth:720,mx:"auto"}})}),e.jsx(V,{maxWidth:!1,children:e.jsxs(A,{sx:{maxWidth:720,mx:"auto"},children:[e.jsx(U,{variant:"subtitle1",sx:{mb:5},children:o.description}),e.jsx(He,{children:o.content}),e.jsxs(A,{spacing:3,sx:{py:3,borderTop:a=>`dashed 1px ${a.palette.divider}`,borderBottom:a=>`dashed 1px ${a.palette.divider}`},children:[e.jsx(A,{direction:"row",flexWrap:"wrap",spacing:1,children:o.tags.map(a=>e.jsx(pt,{label:a,variant:"soft"},a))}),e.jsxs(A,{direction:"row",alignItems:"center",children:[e.jsx(mt,{control:e.jsx(ut,{defaultChecked:!0,size:"small",color:"error",icon:e.jsx(N,{icon:"solar:heart-bold"}),checkedIcon:e.jsx(N,{icon:"solar:heart-bold"})}),label:Ze(o.totalFavorites),sx:{mr:1}}),e.jsx(vt,{children:o.favoritePerson.map(a=>e.jsx(ee,{alt:a.name,src:a.avatarUrl},a.name))})]})]}),e.jsxs(A,{direction:"row",sx:{mb:3,mt:5},children:[e.jsx(U,{variant:"h4",children:"Comments"}),e.jsxs(U,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",o.comments.length,")"]})]}),e.jsx(Vt,{}),e.jsx(ze,{sx:{mt:5,mb:2}}),e.jsx(qt,{comments:o.comments})]})})]}),v=e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),e.jsx(Qe,{posts:i.slice(i.length-4),loading:m,disabledIndex:!0})]});return e.jsxs(e.Fragment,{children:[n&&l,s&&f,o&&u,e.jsx(V,{sx:{pb:15},children:!!i.length&&v})]})}function jo(){const t=Ke(),{title:o}=t;return e.jsxs(e.Fragment,{children:[e.jsx(_e,{children:e.jsx("title",{children:" Post: Details"})}),e.jsx(Zt,{title:`${o}`})]})}export{jo as default};
