import{u as vt,S as K}from"./styles-03wp4ERq.js";import{b5 as bt,r as n,b6 as Et,j as S,P as go,a6 as ge,a3 as Le,aI as vo,aJ as bo,aN as Eo,W as ce,ak as xo,u as En,aq as wo,v as ut,s as Co,a4 as _o}from"./index-8RLJe14Q.js";import{G as We}from"./Grid2-05rHB71y.js";import{I as yo}from"./image-ew9qLAhc.js";import{u as Wt,a as $t,b as Po}from"./carousel-arrow-index-4EYurYHK.js";import{A as So}from"./format-number-yvUoem75.js";function Li(){const e=Et.product.list,{data:t,isLoading:o,error:r,isValidating:i}=vt(e,bt);return n.useMemo(()=>({products:(t==null?void 0:t.products)||[],productsLoading:o,productsError:r,productsValidating:i,productsEmpty:!o&&!(t!=null&&t.products.length)}),[t==null?void 0:t.products,r,o,i])}function ki(e){const t=e?[Et.product.details,{params:{productId:e}}]:"",{data:o,isLoading:r,error:i,isValidating:s}=vt(t,bt);return n.useMemo(()=>({product:o==null?void 0:o.product,productLoading:r,productError:i,productValidating:s}),[o==null?void 0:o.product,i,r,s])}function Ni(e){const t=e?[Et.product.search,{params:{query:e}}]:"",{data:o,isLoading:r,error:i,isValidating:s}=vt(t,bt,{keepPreviousData:!0});return n.useMemo(()=>({searchResults:(o==null?void 0:o.results)||[],searchLoading:r,searchError:i,searchValidating:s,searchEmpty:!r&&!(o!=null&&o.results.length)}),[o==null?void 0:o.results,i,r,s])}function Ti({sx:e,...t}){return S.jsxs(go,{variant:"outlined",sx:{borderRadius:2,...e},...t,children:[S.jsx(ge,{sx:{p:1},children:S.jsx(K,{sx:{paddingTop:"100%"}})}),S.jsxs(ge,{spacing:2,sx:{p:3,pt:2},children:[S.jsx(K,{sx:{width:.5,height:16}}),S.jsxs(ge,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[S.jsxs(ge,{direction:"row",children:[S.jsx(K,{variant:"circular",sx:{width:16,height:16}}),S.jsx(K,{variant:"circular",sx:{width:16,height:16}}),S.jsx(K,{variant:"circular",sx:{width:16,height:16}})]}),S.jsx(K,{sx:{width:40,height:16}})]})]})]})}function Ri({...e}){return S.jsxs(We,{container:!0,spacing:8,...e,children:[S.jsx(We,{xs:12,md:6,lg:7,children:S.jsx(K,{sx:{paddingTop:"100%"}})}),S.jsx(We,{xs:12,md:6,lg:5,children:S.jsxs(ge,{spacing:3,children:[S.jsx(K,{sx:{height:16,width:48}}),S.jsx(K,{sx:{height:16,width:80}}),S.jsx(K,{sx:{height:16,width:.5}}),S.jsx(K,{sx:{height:16,width:.75}}),S.jsx(K,{sx:{height:120}})]})}),S.jsx(We,{xs:12,children:S.jsx(ge,{direction:"row",alignItems:"center",children:[...Array(3)].map((t,o)=>S.jsxs(ge,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[S.jsx(K,{variant:"circular",sx:{width:80,height:80}}),S.jsx(K,{sx:{height:16,width:160}}),S.jsx(K,{sx:{height:16,width:80}})]},o))})})]})}function Oi({totalItems:e}){return S.jsx(Le,{component:vo,href:bo.product.checkout,sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:t=>t.spacing(1,3,1,2),boxShadow:t=>t.customShadows.dropdown,transition:t=>t.transitions.create(["opacity"]),"&:hover":{opacity:.72}},children:S.jsx(Eo,{showZero:!0,badgeContent:e,color:"error",max:99,children:S.jsx(ce,{icon:"solar:cart-3-bold",width:24})})})}const xn="carousel",Xe="controller",Io="navigation",Mo="no-scroll",xt="portal",Lo="root",wn="toolbar",Ht="captions",Te="fullscreen",Zt="slideshow",Re="thumbnails",Ut="zoom",_e="loading",dt="playing",ke="error",Ne="complete",ko="placeholder",De=e=>`active-slide-${e}`,Cn=De(_e),_n=De(dt),No=De(ke),yn=De(Ne),wt="fullsize",ve="flex_center",To="no_scroll",Pn="no_scroll_padding",Ct="slide_wrapper",ue="prev",de="next",ft="swipe",Pe="close",Sn="onPointerDown",In="onPointerMove",Mn="onPointerUp",Ln="onPointerLeave",kn="onPointerCancel",_t="onKeyDown",Ro="onKeyUp",yt="onWheel",Oo="Escape",Do="ArrowLeft",Fo="ArrowRight",Ao="button",Ue="icon",Nn="contain",Bt="cover",Tn="Unknown action type",B=(...e)=>[...e].filter(t=>!!t).join(" "),Rn="yarl__",I=e=>`${Rn}${e}`,V=e=>`--${Rn}${e}`,be=(e,t)=>`${e}${t?`_${t}`:""}`,Ee=e=>t=>be(e,t),Vo=(e,t)=>e&&e[t]?e[t]:t,Fe=(...e)=>()=>{e.forEach(t=>{t()})},re=(e,t,o)=>()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r},Pt=()=>typeof window<"u";function St(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}const Se=e=>e.type===void 0||e.type==="image",It=(e,t)=>e.imageFit===Bt||e.imageFit!==Nn&&t===Bt;function Ye(e){return typeof e=="string"?Number.parseInt(e,10):e}function Be(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ye(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function zo(e,t){const o=Be(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}const jo=()=>(Pt()?window==null?void 0:window.devicePixelRatio:void 0)||1,On=(e,t)=>t>0?(e%t+t)%t:0,Mt=e=>e.length>0,He=(e,t)=>e[On(t,e.length)],ht=(e,t)=>Mt(e)?He(e,t):void 0;function Ae(e,t,o){if(!o)return e;const{buttons:r,...i}=e,s=r.findIndex(c=>c===t),l=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(s>=0){const c=[...r];return c.splice(s,1,l),{buttons:c,...i}}return{buttons:[l,...r],...i}}function Dn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const mt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Pe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Nn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullDown:!1,closeOnBackdropClick:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function te(e,t){return{name:e,component:t}}function Z(e,t){return{module:e,children:t}}function Fn(e,t,o){return e.module.name===t?o(e):e.children?[Z(e.module,e.children.flatMap(r=>{var i;return(i=Fn(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function Ce(e,t,o){return e.flatMap(r=>{var i;return(i=Fn(r,t,o))!==null&&i!==void 0?i:[]})}function Wo(e,t=[],o=[]){let r=e;const i=g=>{const h=[...r];for(;h.length>0;){const d=h.pop();if((d==null?void 0:d.module.name)===g)return!0;d!=null&&d.children&&h.push(...d.children)}return!1},s=(g,h)=>{if(g===""){r=[Z(h,r)];return}r=Ce(r,g,d=>[Z(h,[d])])},l=(g,h)=>{r=Ce(r,g,d=>[Z(d.module,[Z(h,d.children)])])},c=(g,h,d)=>{r=Ce(r,g,f=>{var w;return[Z(f.module,[...d?[Z(h)]:[],...(w=f.children)!==null&&w!==void 0?w:[],...d?[]:[Z(h)]])]})},a=(g,h,d)=>{r=Ce(r,g,f=>[...d?[Z(h)]:[],f,...d?[]:[Z(h)]])},u=g=>{l(Xe,g)},m=(g,h)=>{r=Ce(r,g,d=>[Z(h,d.children)])},p=g=>{r=Ce(r,g,h=>h.children)},b=g=>{o.push(g)};return t.forEach(g=>{g({contains:i,addParent:s,append:l,addChild:c,addSibling:a,addModule:u,replace:m,remove:p,augment:b})}),{config:r,augmentation:g=>o.reduce((h,d)=>d(h),g)}}const An=n.createContext(null),xe=re("useEvents","EventsContext",An);function $o({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(l,c)=>{var a;(a=t[l])===null||a===void 0||a.splice(0,t[l].length,...t[l].filter(u=>u!==c))};return{publish:(...[l,c])=>{var a;(a=t[l])===null||a===void 0||a.forEach(u=>u(c))},subscribe:(l,c)=>(t[l]||(t[l]=[]),t[l].push(c),()=>r(l,c)),unsubscribe:r}},[t]);return n.createElement(An.Provider,{value:o},e)}const Vn=n.createContext(null),W=re("useLightboxProps","LightboxPropsContext",Vn);function zn({children:e,...t}){return n.createElement(Vn.Provider,{value:t},e)}const jn=n.createContext(null),ie=re("useLightboxState","LightboxStateContext",jn),Wn=n.createContext(null),Ho=re("useLightboxDispatch","LightboxDispatchContext",Wn);function Zo(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,s=On(i,o.length),l=ht(o,s),c=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:i,currentSlide:l,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:ht(t.slides,t.index)}:e;default:throw new Error(Tn)}}function Uo({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Zo,{slides:e,currentIndex:t,globalIndex:t,currentSlide:ht(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(Wn.Provider,{value:i},n.createElement(jn.Provider,{value:s},o))}const $n=n.createContext(null),Ve=re("useTimeouts","TimeoutsContext",$n);function Bo({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=l=>{t.splice(0,t.length,...t.filter(c=>c!==l))};return{setTimeout:(l,c)=>{const a=window.setTimeout(()=>{r(a),l()},c);return t.push(a),a},clearTimeout:l=>{l!==void 0&&(r(l),window.clearTimeout(l))}}},[t]);return n.createElement($n.Provider,{value:o},e)}const we=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:s,style:l,...c},a){const{styles:u,labels:m}=W();return n.createElement("button",{ref:a,type:"button","aria-label":Vo(m,t),className:B(I(Ao),o),onClick:s,style:{...l,...u.button},...c},i?i():n.createElement(r,{className:I(Ue),style:u.icon}))});function Hn(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function q(e,t){return Hn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Zn(e,t){return Hn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const Xo=q("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Yo=q("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Go=q("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Ko=q("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),qo=q("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ee=Pt()?n.useLayoutEffect:n.useEffect;function Lt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=l=>t(l.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var l;return(l=i==null?void 0:i.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",s)}},[]),e}function Jo(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const l=s[1].split(",").map(Ye);l.length===6?(t=l[4],o=l[5]):l.length===16&&(t=l[12],o=l[13],r=l[14])}return{x:t,y:o,z:r}}function pt(e,t){const o=n.useRef(),r=n.useRef(),i=Lt();return ee(()=>{var s,l,c;if(e.current&&o.current!==void 0&&!i){const{keyframes:a,duration:u,easing:m,onfinish:p}=t(o.current,e.current.getBoundingClientRect(),Jo(e.current))||{};if(a&&u){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(c=(l=e.current).animate)===null||c===void 0?void 0:c.call(l,a,{duration:u,easing:m})}catch(b){console.error(b)}r.current&&(r.current.onfinish=()=>{r.current=void 0,p==null||p()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function kt(){const e=n.useRef(null),t=n.useRef(),[o,r]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(s){const c=window.getComputedStyle(s),a=u=>parseFloat(u)||0;r({width:Math.round(s.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(s.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else r(void 0)};l(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(s))},[]),containerRef:e,containerRect:o}}function Ze(){const e=n.useRef(),{setTimeout:t,clearTimeout:o}=Ve();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function A(e){const t=n.useRef(e);return ee(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function Xt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Yt(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{Xt(e,o),Xt(t,o)},[e,t])}function Un(e,t=!1){const o=n.useRef();ee(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function Ge(){const[e,t]=n.useState(!1);return ee(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Bn(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var l;(l=e[i])===null||l===void 0||l.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(Sn,i),onPointerMove:i=>t(In,i),onPointerUp:i=>t(Mn,i),onPointerLeave:i=>t(Ln,i),onPointerCancel:i=>t(kn,i),onKeyDown:i=>t(_t,i),onKeyUp:i=>t(Ro,i),onWheel:i=>t(yt,i)}),[t]),r=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const l=e[i];l&&l.splice(0,l.length,...l.filter(c=>c!==s))}),[e]);return{registerSensors:o,subscribeSensors:r}}function Gt(e,t){const o=n.useRef(0),r=Ze(),i=A((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-o.current))},[t,i,r])}const rt=Ee("slide"),it=Ee("slide_image");function Oe({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:s,onClick:l,onLoad:c,style:a}){var u,m,p,b,g,h,d;const[f,w]=n.useState(_e),{publish:_}=xe(),{setTimeout:T}=Ve(),R=n.useRef(null);n.useEffect(()=>{t===0&&_(De(f))},[t,f,_]);const M=A(F=>{("decode"in F?F.decode():Promise.resolve()).catch(()=>{}).then(()=>{F.parentNode&&(w(Ne),T(()=>{c==null||c(F)},0))})}),L=n.useCallback(F=>{R.current=F,F!=null&&F.complete&&M(F)},[M]),y=n.useCallback(F=>{M(F.currentTarget)},[M]),x=n.useCallback(()=>{w(ke)},[]),N=It(e,i),E=(F,J)=>Number.isFinite(F)?F:J,k=E(Math.max(...((m=(u=e.srcSet)===null||u===void 0?void 0:u.map(F=>F.width))!==null&&m!==void 0?m:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((p=R.current)===null||p===void 0?void 0:p.naturalWidth)||0),H=E(Math.max(...((g=(b=e.srcSet)===null||b===void 0?void 0:b.map(F=>F.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((h=R.current)===null||h===void 0?void 0:h.naturalHeight)||0),v=k&&H?{maxWidth:`min(${k}px, 100%)`,maxHeight:`min(${H}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},O=(d=e.srcSet)===null||d===void 0?void 0:d.sort((F,J)=>F.width-J.width).map(F=>`${F.src} ${F.width}w`).join(", "),z=()=>r&&!N&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,P=O&&r&&Pt()?`${Math.round(Math.min(z(),r.width))}px`:void 0,{style:D,className:$,...Y}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:L,onLoad:y,onError:x,onClick:l,draggable:!1,className:B(I(it()),N&&I(it("cover")),f!==Ne&&I(it("loading")),$),style:{...v,...a,...D},...Y,alt:e.alt,sizes:P,srcSet:O,src:e.src}),f!==Ne&&n.createElement("div",{className:I(rt(ko))},f===_e&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Ko,{className:B(I(Ue),I(rt(_e)))})),f===ke&&(o!=null&&o.iconError?o.iconError():n.createElement(qo,{className:B(I(Ue),I(rt(ke)))}))))}var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN",e[e.ANIMATION=3]="ANIMATION"})(X||(X={}));function Xn(e,t,o,r,i){n.useEffect(()=>i?()=>{}:Fe(e(Sn,t),e(In,o),e(Mn,r),e(Ln,r),e(kn,r)),[e,t,o,r,i])}var oe;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN"})(oe||(oe={}));const st=30;function Qo(e,t,o,r,i,s,l,c,a,u,m,p,b){const g=n.useRef(0),h=n.useRef([]),d=n.useRef(),f=n.useRef(0),w=n.useRef(oe.NONE),_=n.useCallback(y=>{d.current===y.pointerId&&(d.current=void 0,w.current=oe.NONE);const x=h.current;x.splice(0,x.length,...x.filter(N=>N.pointerId!==y.pointerId))},[]),T=n.useCallback(y=>{_(y),y.persist(),h.current.push(y)},[_]),R=A(y=>{T(y)}),M=A(y=>{if(h.current.find(x=>x.pointerId===y.pointerId)&&d.current===y.pointerId){const x=Date.now()-f.current,N=g.current;w.current===oe.SWIPE?Math.abs(N)>.3*o||Math.abs(N)>5&&x<r?l(N,x):c(N):w.current===oe.PULL_DOWN&&(N>2*st?p(N,x):b(N)),g.current=0,w.current=oe.NONE}_(y)}),L=A(y=>{const x=h.current.find(N=>N.pointerId===y.pointerId);if(x){const N=d.current===y.pointerId;if(y.buttons===0){N&&g.current!==0?M(y):_(x);return}const E=y.clientX-x.clientX,k=y.clientY-x.clientY;if(d.current===void 0){const H=v=>{T(y),d.current=y.pointerId,f.current=Date.now(),w.current=v};Math.abs(E)>Math.abs(k)&&Math.abs(E)>st&&t(E)?(H(oe.SWIPE),i()):a&&Math.abs(k)>Math.abs(E)&&k>st&&(H(oe.PULL_DOWN),u())}else N&&(w.current===oe.SWIPE?(g.current=E,s(E)):w.current===oe.PULL_DOWN&&(g.current=k,m(k)))}});Xn(e,R,L,M)}const Kt="wheel";function qt(e){(Math.abs(e.deltaX)>Math.abs(e.deltaY)||e.ctrlKey)&&e.preventDefault()}function er(){const e=n.useRef(null);return n.useCallback(t=>{var o;t?t.addEventListener(Kt,qt,{passive:!1}):(o=e.current)===null||o===void 0||o.removeEventListener(Kt,qt),e.current=t},[])}function tr(e,t,o,r,i,s,l,c,a){const u=n.useRef(0),m=n.useRef(0),p=n.useRef(),b=n.useRef(),g=n.useRef(0),h=n.useRef(0),{setTimeout:d,clearTimeout:f}=Ve(),w=n.useCallback(()=>{p.current&&(f(p.current),p.current=void 0)},[f]),_=n.useCallback(()=>{b.current&&(f(b.current),b.current=void 0)},[f]),T=A(()=>{e!==X.SWIPE&&(u.current=0,h.current=0,w(),_())});n.useEffect(T,[e,T]);const R=A(L=>{b.current=void 0,u.current===L&&a(u.current)}),M=A(L=>{if(!L.ctrlKey&&!(Math.abs(L.deltaY)>Math.abs(L.deltaX)))if(e===X.NONE){if(Math.abs(L.deltaX)<=1.2*Math.abs(g.current)){g.current=L.deltaX;return}if(!o(-L.deltaX))return;if(m.current+=L.deltaX,w(),Math.abs(m.current)>30)m.current=0,g.current=0,h.current=Date.now(),s();else{const y=m.current;p.current=d(()=>{p.current=void 0,y===m.current&&(m.current=0)},i)}}else if(e===X.SWIPE){let y=u.current-L.deltaX;if(y=Math.min(Math.abs(y),r)*Math.sign(y),u.current=y,l(y),_(),Math.abs(y)>.2*r){g.current=L.deltaX,c(y,Date.now()-h.current);return}b.current=d(()=>R(y),2*i)}else g.current=L.deltaX});n.useEffect(()=>t(yt,M),[t,M])}const Jt=Ee("container"),Yn=n.createContext(null),ne=re("useController","ControllerContext",Yn);function nr({children:e,...t}){var o;const{carousel:r,animation:i,controller:s,on:l,styles:c,render:a}=t,[u,m]=n.useState(),p=ie(),b=Ho(),[g,h]=n.useState(X.NONE),d=n.useRef(0),f=n.useRef(0),w=n.useRef(1),{registerSensors:_,subscribeSensors:T}=Bn(),{subscribe:R,publish:M}=xe(),L=Ze(),y=Ze(),x=Ze(),{containerRef:N,setContainerRef:E,containerRect:k}=kt(),H=Yt(er(),E),v=n.useRef(null),O=Yt(v,void 0),z=Ge(),P=C=>(z?-1:1)*(typeof C=="number"?C:1),D=A(()=>{var C;return(C=N.current)===null||C===void 0?void 0:C.focus()}),$=A(()=>t),Y=A(()=>p),F=n.useCallback(C=>M(ue,C),[M]),J=n.useCallback(C=>M(de,C),[M]),ae=n.useCallback(()=>M(Pe),[M]),qe=C=>!(r.finite&&(P(C)>0&&p.currentIndex===0||P(C)<0&&p.currentIndex===p.slides.length-1)),Dt=C=>{var j;d.current=C,(j=N.current)===null||j===void 0||j.style.setProperty(V("swipe_offset"),`${Math.round(C)}px`)},{closeOnPullDown:Je}=s,Qe=C=>{var j,G;f.current=C,w.current=Math.min(Math.max(St(1-C/60*(1-.5),2),.5),1),(j=N.current)===null||j===void 0||j.style.setProperty(V("pull_down_offset"),`${Math.round(C)}px`),(G=N.current)===null||G===void 0||G.style.setProperty(V("pull_down_opacity"),`${w.current}`)},{prepareAnimation:uo}=pt(v,(C,j,G)=>{if(v.current&&k)return{keyframes:[{transform:`translate(0, ${C.rect.y-j.y+G.y}px)`,opacity:C.opacity},{transform:"translate(0, 0)",opacity:1}],duration:C.duration,easing:i.easing.fade}}),Ft=(C,j)=>{if(Je){Qe(C);let G=0;v.current&&(G=i.fade*(j?2:1),uo({rect:v.current.getBoundingClientRect(),opacity:w.current,duration:G})),x(()=>{Qe(0),h(X.NONE)},G),h(X.ANIMATION),j||ae()}},{prepareAnimation:fo,isAnimationPlaying:ho}=pt(v,(C,j,G)=>{var se;if(v.current&&k&&(!((se=p.animation)===null||se===void 0)&&se.duration)){const Q=Be(r.spacing),et=(Q.percent?Q.percent*k.width/100:Q.pixel)||0;return{keyframes:[{transform:`translate(${P(p.globalIndex-C.index)*(k.width+et)+C.rect.x-j.x+G.x}px, 0)`},{transform:"translate(0, 0)"}],duration:p.animation.duration,easing:p.animation.easing}}}),Ie=A(C=>{var j,G;const se=C.offset||0,Q=se?i.swipe:(j=i.navigation)!==null&&j!==void 0?j:i.swipe,et=!se&&!ho()?i.easing.navigation:i.easing.swipe;let{direction:ze}=C;const je=(G=C.count)!==null&&G!==void 0?G:1;let tt=X.ANIMATION,le=Q*je;if(!ze){const Me=k==null?void 0:k.width,jt=C.duration||0,ot=Me?Q/Me*Math.abs(se):Q;je!==0?(jt<ot?le=le/ot*Math.max(jt,ot/5):Me&&(le=Q/Me*(Me-Math.abs(se))),ze=P(se)>0?ue:de):le=Q/2}let nt=0;ze===ue?qe(P(1))?nt=-je:(tt=X.NONE,le=Q):ze===de&&(qe(P(-1))?nt=je:(tt=X.NONE,le=Q)),le=Math.round(le),y(()=>{Dt(0),h(X.NONE)},le),v.current&&fo({rect:v.current.getBoundingClientRect(),index:p.globalIndex}),h(tt),M(ft,{type:"swipe",increment:nt,duration:le,easing:et})});n.useEffect(()=>{var C,j;!((C=p.animation)===null||C===void 0)&&C.increment&&(!((j=p.animation)===null||j===void 0)&&j.duration)&&L(()=>b({type:"swipe",increment:0}),p.animation.duration)},[p.animation,b,L]);const At=[T,qe,(k==null?void 0:k.width)||0,i.swipe,()=>h(X.SWIPE),C=>Dt(C),(C,j)=>Ie({offset:C,duration:j,count:1}),C=>Ie({offset:C,count:0})],mo=[()=>{Je&&h(X.PULL_DOWN)},C=>Qe(C),C=>Ft(C),C=>Ft(C,!0)];Qo(...At,Je,...mo),tr(g,...At);const Vt=A(()=>{s.focus&&document.querySelector(`.${I(xt)} .${I(Jt())}`)&&D()});n.useEffect(Vt,[Vt]);const zt=A(()=>{var C;(C=l.view)===null||C===void 0||C.call(l,{index:p.currentIndex})});n.useEffect(zt,[p.globalIndex,zt]),n.useEffect(()=>Fe(R(ue,C=>Ie({direction:ue,...C})),R(de,C=>Ie({direction:de,...C})),R(ft,C=>b(C))),[R,Ie,b]);const po=n.useMemo(()=>({prev:F,next:J,close:ae,focus:D,slideRect:k?zo(k,r.padding):{width:0,height:0},containerRect:k||{width:0,height:0},subscribeSensors:T,containerRef:N,setCarouselRef:O,toolbarWidth:u,setToolbarWidth:m}),[F,J,ae,D,T,k,N,O,u,m,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:F,next:J,close:ae,focus:D,getLightboxProps:$,getLightboxState:Y}),[F,J,ae,D,$,Y]),n.createElement("div",{ref:H,className:B(I(Jt()),I(ve)),style:{...g===X.SWIPE?{[V("swipe_offset")]:`${Math.round(d.current)}px`}:null,...g===X.PULL_DOWN?{[V("pull_down_offset")]:`${Math.round(f.current)}px`,[V("pull_down_opacity")]:`${w.current}`}:null,...s.touchAction!=="none"?{[V("controller_touch_action")]:s.touchAction}:null,...c.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,..._},k&&n.createElement(Yn.Provider,{value:po},e,(o=a.controls)===null||o===void 0?void 0:o.call(a)))}const or=te(Xe,nr);function he(e){return be(xn,e)}function Qt(e){return be("slide",e)}function lt({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=ie(),{slideRect:i,close:s}=ne(),{render:l,carousel:{imageFit:c,imageProps:a},on:{click:u},controller:{closeOnBackdropClick:m},styles:{slide:p}}=W(),b=()=>{var h,d,f,w;let _=(h=l.slide)===null||h===void 0?void 0:h.call(l,{slide:e,offset:t,rect:i});return!_&&Se(e)&&(_=n.createElement(Oe,{slide:e,offset:t,render:l,rect:i,imageFit:c,imageProps:a,onClick:t===0?()=>u==null?void 0:u({index:r}):void 0})),_?n.createElement(n.Fragment,null,(d=l.slideHeader)===null||d===void 0?void 0:d.call(l,{slide:e}),((f=l.slideContainer)!==null&&f!==void 0?f:({children:T})=>T)({slide:e,children:_}),(w=l.slideFooter)===null||w===void 0?void 0:w.call(l,{slide:e})):null},g=h=>{const d=o.current,f=h.target instanceof HTMLElement?h.target:void 0;m&&f&&d&&(f===d||Array.from(d.children).find(w=>w===f)&&f.classList.contains(I(Ct)))&&s()};return n.createElement("div",{ref:o,className:B(I(Qt()),t===0&&I(Qt("current")),I(ve)),onClick:g,style:p},b())}function en(){const e=W().styles.slide;return n.createElement("div",{className:I("slide"),style:e})}function rr({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=ie(),{setCarouselRef:i}=ne(),s=Be(e.spacing),l=Be(e.padding),c=[],a=Dn(e,t,1);if(Mt(t)){for(let u=o-a;u<o;u+=1){const m=r+u-o;c.push(!e.finite||u>=0?n.createElement(lt,{key:m,slide:t[(u+a*t.length)%t.length],offset:u-o}):n.createElement(en,{key:m}))}c.push(n.createElement(lt,{key:r,slide:t[o],offset:0}));for(let u=o+1;u<=o+a;u+=1){const m=r+u-o;c.push(!e.finite||u<=t.length-1?n.createElement(lt,{key:m,slide:t[u%t.length],offset:u-o}):n.createElement(en,{key:m}))}}return n.createElement("div",{ref:i,className:B(I(he()),c.length>0&&I(he("with_slides"))),style:{[`${V(he("slides_count"))}`]:c.length,[`${V(he("spacing_px"))}`]:s.pixel||0,[`${V(he("spacing_percent"))}`]:s.percent||0,[`${V(he("padding_px"))}`]:l.pixel||0,[`${V(he("padding_percent"))}`]:l.percent||0}},c)}const ir=te(xn,rr);function Gn(){const{carousel:e}=W(),{slides:t,currentIndex:o}=ie(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Kn(e){var t;const o=Ge(),{publish:r}=xe(),{animation:i}=W(),{prevDisabled:s,nextDisabled:l}=Gn(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Gt(()=>r(ue),c),u=Gt(()=>r(de),c),m=A(p=>{switch(p.key){case Oo:r(Pe);break;case Do:(o?l:s)||(o?u:a)();break;case Fo:(o?s:l)||(o?a:u)();break}});n.useEffect(()=>e(_t,m),[e,m])}function tn({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:s,style:l}){return n.createElement(we,{label:e,icon:t,renderIcon:o,className:I(`navigation_${r}`),disabled:s,onClick:i,style:l,...Un(ne().focus,s)})}function sr({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:s,next:l,subscribeSensors:c}=ne(),{prevDisabled:a,nextDisabled:u}=Gn();return Kn(c),n.createElement(n.Fragment,null,e?e():n.createElement(tn,{label:"Previous",action:ue,icon:Yo,renderIcon:o,style:i.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement(tn,{label:"Next",action:de,icon:Go,renderIcon:r,style:i.navigationNext,disabled:u,onClick:l}))}const lr=te(Io,sr),nn=I(To),cr=I(Pn);function ar(e){return"style"in e}function on(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ye(s)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function ur({noScroll:{disabled:e},children:t}){const o=Ge();return ee(()=>{if(e)return()=>{};const r=[],{body:i,documentElement:s}=document,l=Math.round(window.innerWidth-s.clientWidth);if(l>0){r.push(on(i,l,o));const c=i.getElementsByTagName("*");for(let a=0;a<c.length;a+=1){const u=c[a];ar(u)&&window.getComputedStyle(u).getPropertyValue("position")==="fixed"&&!u.classList.contains(cr)&&r.push(on(u,l,o))}}return i.classList.add(nn),()=>{i.classList.remove(nn),r.forEach(c=>c())}},[o,e]),n.createElement(n.Fragment,null,t)}const dr=te(Mo,ur);function rn(e){return be(xt,e)}function sn(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function fr({children:e,animation:t,styles:o,className:r,on:i,portal:s,close:l}){const[c,a]=n.useState(!1),[u,m]=n.useState(!1),p=n.useRef([]),b=n.useRef(null),{setTimeout:g}=Ve(),{subscribe:h}=xe(),f=Lt()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),m(!1)}),[]);const w=A(()=>{p.current.forEach(M=>M()),p.current=[]}),_=A(()=>{var M;m(!1),w(),(M=i.exiting)===null||M===void 0||M.call(i),g(()=>{var L;(L=i.exited)===null||L===void 0||L.call(i),l()},f)});n.useEffect(()=>h(Pe,_),[h,_]);const T=A(M=>{var L,y,x;M.scrollTop,m(!0),(L=i.entering)===null||L===void 0||L.call(i);const N=(x=(y=M.parentNode)===null||y===void 0?void 0:y.children)!==null&&x!==void 0?x:[];for(let E=0;E<N.length;E+=1){const k=N[E];["TEMPLATE","SCRIPT","STYLE"].indexOf(k.tagName)===-1&&k!==M&&(p.current.push(sn(k,"inert","true")),p.current.push(sn(k,"aria-hidden","true")))}p.current.push(()=>{var E,k;(k=(E=b.current)===null||E===void 0?void 0:E.focus)===null||k===void 0||k.call(E)}),g(()=>{var E;(E=i.entered)===null||E===void 0||E.call(i)},f)}),R=n.useCallback(M=>{M?T(M):w()},[T,w]);return c?xo.createPortal(n.createElement("div",{ref:R,className:B(r,I("root"),I(rn()),I(Pn),u&&I(rn("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==mt.animation.fade?{[V("fade_animation_duration")]:`${f}ms`}:null,...t.easing.fade!==mt.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:M=>{b.current||(b.current=M.relatedTarget)}},e),s.root||document.body):null}const hr=te(xt,fr);function mr({children:e}){return n.createElement(n.Fragment,null,e)}const pr=te(Lo,mr);function gr(e){return be(wn,e)}function vr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:s}=ne(),{setContainerRef:l,containerRect:c}=kt();ee(()=>{s(c==null?void 0:c.width)},[s,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(we,{key:Pe,label:"Close",icon:Xo,renderIcon:o,onClick:i});return n.createElement("div",{ref:l,style:r.toolbar,className:I(gr())},e==null?void 0:e.map(u=>u===Pe?a():u))}const br=te(wn,vr);function qn(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>qn(r,t)))}function Er(e,t={}){const{easing:o,...r}=e,{easing:i,...s}=t;return{easing:{...o,...i},...r,...s}}function xr({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:s,on:l,plugins:c,slides:a,index:u,...m}){const{animation:p,carousel:b,render:g,toolbar:h,controller:d,noScroll:f,on:w,slides:_,index:T,plugins:R,...M}=mt,{config:L,augmentation:y}=Wo([Z(hr,[Z(dr,[Z(or,[Z(ir),Z(br),Z(lr)])])])],c||R),x=y({animation:Er(p,t),carousel:{...b,...e},render:{...g,...o},toolbar:{...h,...r},controller:{...d,...i},noScroll:{...f,...s},on:{...w,...l},...M,...m});return x.open?n.createElement(zn,{...x},n.createElement(Uo,{slides:a||_,index:Ye(u||T)},n.createElement(Bo,null,n.createElement($o,null,qn(Z(pr,L),x))))):null}const wr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Jn=e=>({...wr,...e});function Cr(e,t,o,r){const i=n.useRef(),s=n.useRef(),{zoom:l}=W().animation,c=Lt(),a=A(()=>{var u,m,p;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,s.current&&(r!=null&&r.current)){try{i.current=(p=(m=r.current).animate)===null||p===void 0?void 0:p.call(m,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${o}px)`}],{duration:c?0:l??500,easing:i.current?"ease-out":"ease-in-out"})}catch(b){console.error(b)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return ee(a,[e,t,o,a]),n.useCallback(()=>{s.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function _r(e,t){const{on:o}=W(),r=A(()=>{var i;t||(i=o.zoom)===null||i===void 0||i.call(o,{zoom:e})});n.useEffect(r,[e,r])}function Ke(){const{zoom:e}=W();return Jn(e)}function yr(e,t){var o,r;let i={width:0,height:0},s={width:0,height:0};const{slides:l,currentIndex:c}=ie(),{imageFit:a}=W().carousel,{maxZoomPixelRatio:u}=Ke();if(e&&c<l.length){const p={...l[c],...t};if(Se(p)){const b=It(p,a),g=Math.max(...(((o=p.srcSet)===null||o===void 0?void 0:o.map(d=>d.width))||[]).concat(p.width?[p.width]:[])),h=Math.max(...(((r=p.srcSet)===null||r===void 0?void 0:r.map(d=>d.height))||[]).concat(p.height?[p.height]:[]));g>0&&h>0&&e.width>0&&e.height>0&&(s=b?{width:Math.round(Math.min(g,e.width/e.height*h)),height:Math.round(Math.min(h,e.height/e.width*g))}:{width:g,height:h},s={width:s.width*u,height:s.height*u},i=b?{width:Math.min(e.width,s.width,g),height:Math.min(e.height,s.height,h)}:{width:Math.round(Math.min(e.width,e.height/h*g,g)),height:Math.round(Math.min(e.height,e.width/g*h,h))})}}const m=i.width?Math.max(St(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:m}}function ln(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Pr(e,t,o,r,i,s){const l=n.useRef([]),c=n.useRef(0),a=n.useRef(),{globalIndex:u}=ie(),{containerRef:m,subscribeSensors:p}=ne(),{keyboardMoveDistance:b,zoomInMultiplier:g,wheelZoomDistanceFactor:h,scrollToZoom:d,doubleTapDelay:f,doubleClickDelay:w,doubleClickMaxStops:_,pinchZoomDistanceFactor:T}=Ke(),R=n.useCallback(v=>{if(m.current){const{pageX:O,pageY:z}=v,{scrollX:P,scrollY:D}=window,{left:$,top:Y,width:F,height:J}=m.current.getBoundingClientRect();return[O-$-P-F/2,z-Y-D-J/2]}return[]},[m]),M=A(v=>{const O=()=>{v.preventDefault(),v.stopPropagation()};if(e>1){const D=($,Y)=>{O(),i($,Y)};v.key==="ArrowDown"?D(0,b):v.key==="ArrowUp"?D(0,-b):v.key==="ArrowLeft"?D(-b,0):v.key==="ArrowRight"&&D(b,0)}const z=D=>{O(),r(D)},P=()=>v.getModifierState("Meta");v.key==="+"||v.key==="="&&P()?z(e*g):v.key==="-"||v.key==="_"&&P()?z(e/g):v.key==="0"&&P()&&z(1)}),L=A(v=>{if((v.ctrlKey||d)&&Math.abs(v.deltaY)>Math.abs(v.deltaX)){v.stopPropagation(),r(e*(1-v.deltaY/h),!0,...R(v));return}e>1&&(v.stopPropagation(),d||i(v.deltaX,v.deltaY))}),y=n.useCallback(v=>{const O=l.current;O.splice(0,O.length,...O.filter(z=>z.pointerId!==v.pointerId))},[]),x=n.useCallback(v=>{y(v),v.persist(),l.current.push(v)},[y]),N=A(v=>{var O;const z=l.current;if(!(!((O=s==null?void 0:s.current)===null||O===void 0)&&O.contains(v.target)))return;e>1&&v.stopPropagation();const{timeStamp:P}=v;z.length===0&&P-c.current<(v.pointerType==="touch"?f:w)?(c.current=0,r(e!==t?e*Math.max(t**(1/_),g):1,!1,...R(v))):c.current=P,x(v),z.length===2&&(a.current=ln(z[0],z[1]))}),E=A(v=>{const O=l.current,z=O.find(P=>P.pointerId===v.pointerId);if(O.length===2&&a.current){v.stopPropagation(),x(v);const P=ln(O[0],O[1]),D=P-a.current;Math.abs(D)>0&&(r(e*(1+D/T),!0,...O.map($=>R($)).reduce(($,Y)=>Y.map((F,J)=>$[J]+F/2))),a.current=P);return}e>1&&(v.stopPropagation(),z&&(O.length===1&&i((z.clientX-v.clientX)/e,(z.clientY-v.clientY)/e),x(v)))}),k=n.useCallback(v=>{const O=l.current;O.length===2&&O.find(z=>z.pointerId===v.pointerId)&&(a.current=void 0),y(v)},[y]),H=n.useCallback(()=>{const v=l.current;v.splice(0,v.length),c.current=0,a.current=void 0},[]);Xn(p,N,E,k,o),n.useEffect(H,[u,H]),n.useEffect(()=>o?()=>{}:Fe(H,p(_t,M),p(yt,L)),[o,p,H,M,L])}function Sr(e,t){if(t<e.length){const o=e[t];if(Se(o))return o.src}}function Ir(e,t,o){const[r,i]=n.useState(1),[s,l]=n.useState(0),[c,a]=n.useState(0),u=Cr(r,s,c,o),{slides:m,currentIndex:p,globalIndex:b}=ie(),{containerRect:g,slideRect:h}=ne(),{zoomInMultiplier:d}=Ke(),f=Sr(m,p),w=!f||!(o!=null&&o.current);ee(()=>{i(1),l(0),a(0)},[b,f]);const _=n.useCallback((y,x,N)=>{const E=N||r,k=s-(y||0),H=c-(x||0),v=(e.width*E-h.width)/2/E,O=(e.height*E-h.height)/2/E;l(Math.min(Math.abs(k),Math.max(v,0))*Math.sign(k)),a(Math.min(Math.abs(H),Math.max(O,0))*Math.sign(H))},[r,s,c,h,e.width,e.height]),T=n.useCallback((y,x,N,E)=>{const k=St(Math.min(Math.max(y+.001<t?y:t,1),t),5);k!==r&&(x||u(),_(N?N*(1/r-1/k):0,E?E*(1/r-1/k):0,k),i(k))},[r,t,_,u]),R=A(()=>{r>1&&(r>t&&T(t,!0),_())});ee(R,[g.width,g.height,R]);const M=n.useCallback(()=>T(r*d),[r,d,T]),L=n.useCallback(()=>T(r/d),[r,d,T]);return{zoom:r,offsetX:s,offsetY:c,disabled:w,changeOffsets:_,changeZoom:T,zoomIn:M,zoomOut:L}}const Qn=n.createContext(null),Nt=re("useZoom","ZoomControllerContext",Qn);function Mr({children:e}){const[t,o]=n.useState(),{slideRect:r}=ne(),{imageRect:i,maxZoom:s}=yr(r,t==null?void 0:t.imageDimensions),{zoom:l,offsetX:c,offsetY:a,disabled:u,changeZoom:m,changeOffsets:p,zoomIn:b,zoomOut:g}=Ir(i,s,t==null?void 0:t.zoomWrapperRef);_r(l,u),Pr(l,s,u,m,p,t==null?void 0:t.zoomWrapperRef);const h=n.useMemo(()=>({zoom:l,maxZoom:s,offsetX:c,offsetY:a,disabled:u,zoomIn:b,zoomOut:g,changeZoom:m}),[l,s,c,a,u,b,g,m]);n.useImperativeHandle(Ke().ref,()=>h,[h]);const d=n.useMemo(()=>({...h,setZoomWrapper:o}),[h,o]);return n.createElement(Qn.Provider,{value:d},e)}const Lr=q("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),kr=q("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),cn=n.forwardRef(function({zoomIn:t,onLoseFocus:o},r){const i=n.useRef(!1),s=n.useRef(!1),{zoom:l,maxZoom:c,zoomIn:a,zoomOut:u,disabled:m}=Nt(),{render:p}=W(),b=m||(t?l>=c:l<=1);return n.useEffect(()=>{b&&i.current&&s.current&&o(),b||(i.current=!0)},[b,o]),n.createElement(we,{ref:r,disabled:b,label:t?"Zoom in":"Zoom out",icon:t?Lr:kr,renderIcon:t?p.iconZoomIn:p.iconZoomOut,onClick:t?a:u,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Nr(){const e=n.useRef(null),t=n.useRef(null),{focus:o}=ne(),r=n.useCallback(l=>{var c,a;!((c=l.current)===null||c===void 0)&&c.disabled?o():(a=l.current)===null||a===void 0||a.focus()},[o]),i=n.useCallback(()=>r(e),[r]),s=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(cn,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(cn,{ref:t,onLoseFocus:i}))}function Tr(){const{render:e}=W(),t=Nt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Nr,null)}function Rr(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Or({current:e,preload:t},{type:o,source:r}){switch(o){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(Tn)}}function Dr(e){var t,o;const[{current:r,preload:i},s]=n.useReducer(Or,{}),{slide:l,rect:c,imageFit:a,render:u}=e,m=l.srcSet.sort((R,M)=>R.width-M.width),p=(t=l.width)!==null&&t!==void 0?t:m[m.length-1].width,b=(o=l.height)!==null&&o!==void 0?o:m[m.length-1].height,g=It(l,a),h=Math.max(...m.map(R=>R.width)),d=Math.min((g?Math.max:Math.min)(c.width,p*(c.height/b)),h),f=jo(),w=A(()=>{var R;const M=(R=m.find(L=>L.width>=d*f))!==null&&R!==void 0?R:m[m.length-1];(!r||m.findIndex(L=>L.src===r)<m.findIndex(L=>L===M))&&s({type:"fetch",source:M.src})});ee(w,[c.width,c.height,f,w]);const _=A(R=>s({type:"done",source:R})),T={WebkitTransform:"translateZ(0)"};return g||Object.assign(T,c.width/c.height<p/b?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==r&&n.createElement(Oe,{key:"preload",...e,slide:{...l,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...T},onLoad:()=>_(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(Oe,{key:"current",...e,slide:{...l,src:r,srcSet:void 0},style:T}))}function Fr({render:e,slide:t,offset:o,rect:r}){var i;const[s,l]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:u,offsetX:m,offsetY:p,setZoomWrapper:b}=Nt(),{carousel:g,on:h}=W(),{currentIndex:d}=ie();ee(()=>o===0?(b({zoomWrapperRef:c,imageDimensions:s}),()=>b(void 0)):()=>{},[o,s,b]);let f=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:o,rect:r,zoom:a,maxZoom:u});if(!f&&Se(t)){const w={slide:t,offset:o,rect:r,render:e,imageFit:g.imageFit,imageProps:g.imageProps,onClick:o===0?()=>{var _;return(_=h.click)===null||_===void 0?void 0:_.call(h,{index:d})}:void 0};f=Rr(t)?n.createElement(Dr,{key:t.src,...w,slide:t,rect:o===0?{width:r.width*a,height:r.height*a}:r}):n.createElement(Oe,{key:t.src,onLoad:_=>l({width:_.naturalWidth,height:_.naturalHeight}),...w})}return f?n.createElement("div",{ref:c,className:B(I(wt),I(ve),I(Ct)),style:o===0?{transform:`scale(${a}) translateX(${m}px) translateY(${p}px)`}:void 0},f):null}const an=({augment:e,addModule:t})=>{e(({toolbar:o,render:r,zoom:i,...s})=>({zoom:Jn(i),toolbar:Ae(o,Ut,n.createElement(Tr,null)),render:{...r,slide:l=>{var c;return Se(l.slide)?n.createElement(Fr,{render:r,...l}):(c=r.slide)===null||c===void 0?void 0:c.call(r,l)}},...s})),t(te(Ut,Mr))},Ar={controls:!0,playsInline:!0},eo=e=>({...Ar,...e});function Vr(){const{video:e}=W();return eo(e)}function zr({slide:e,offset:t}){const o=Vr(),{publish:r}=xe(),{setContainerRef:i,containerRect:s}=kt(),l=n.useRef(null);n.useEffect(()=>{t!==0&&l.current&&!l.current.paused&&l.current.pause()},[t]),n.useEffect(()=>{t===0&&l.current&&(e.autoPlay||o.autoPlay)&&(r(Cn),l.current.play().catch(()=>{}))},[t,o.autoPlay,e.autoPlay,r]);const c=A(f=>{t===0&&(o.autoPlay||e.autoPlay)&&f.paused&&f.play().catch(()=>{})}),a=n.useCallback(f=>{l.current=f,f&&c(f)},[c]),{width:u,height:m,poster:p,sources:b}=e,g=()=>{const f={};if(f.style={maxWidth:"100%",maxHeight:"100%"},u&&m&&s){const w=u/m>s.width/s.height,_=w?s.width:Math.round(s.height/m*u),T=w?Math.round(s.width/u*m):s.height;f.width=_,f.height=T,f.style.width=_,f.style.height=T}return f},h=f=>e[f]===!1?null:e[f]===!0?{[f]:!0}:o[f]===!1?null:o[f]===!0?{[f]:!0}:null,d=f=>o[f]||e[f]?{[f]:e[f]||o[f]}:null;return n.createElement(n.Fragment,null,b&&n.createElement("div",{ref:i,style:{width:"100%",height:"100%",...u?{maxWidth:`${u}px`}:null},className:B(I("video_container"),I(ve),I(Ct))},s&&n.createElement("video",{ref:a,poster:p,...g(),...h("controls"),...h("playsInline"),...h("loop"),...h("muted"),...h("playsInline"),...h("disablePictureInPicture"),...h("disableRemotePlayback"),...d("controlsList"),...d("crossOrigin"),...d("preload"),onPlay:()=>{r(_n)},onEnded:()=>{r(yn)}},b.map(({src:f,type:w},_)=>n.createElement("source",{key:_,src:f,type:w})))))}function jr(e){return e.type==="video"}function un({augment:e}){e(({render:{slide:t,...o},video:r,...i})=>({render:{slide:({slide:s,offset:l,rect:c})=>{var a;return jr(s)?n.createElement(zr,{key:(a=s.sources)===null||a===void 0?void 0:a.map(u=>u.src).join(" "),slide:s,offset:l}):t==null?void 0:t({slide:s,offset:l,rect:c})},...o},video:eo(r),...i}))}const ye=e=>I(`slide_${e}`),gt={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1},Tt=e=>({...gt,...e});function Wr(){const{captions:e}=W();return Tt(e)}const to=n.createContext(null),Rt=re("useCaptions","CaptionsContext",to);function $r({captions:e,children:t}){const{ref:o}=Tt(e),[r,i]=n.useState(!0),s=n.useMemo(()=>({visible:r,show:()=>i(!0),hide:()=>i(!1)}),[r]);return n.useImperativeHandle(o,()=>s,[s]),n.createElement(to.Provider,{value:s},t)}function Hr({title:e}){const{toolbarWidth:t}=ne(),{styles:o}=W(),{visible:r}=Rt();return r?n.createElement("div",{style:o.captionsTitleContainer,className:B(ye("captions_container"),ye("title_container"))},n.createElement("div",{className:ye("title"),style:{...t?{[V("toolbar_width")]:`${t}px`}:null,...o.captionsTitle}},e)):null}function Zr({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:o}=Wr(),{styles:r}=W(),{visible:i}=Rt();return i?n.createElement("div",{style:r.captionsDescriptionContainer,className:B(ye("captions_container"),ye("description_container"))},n.createElement("div",{className:ye("description"),style:{...t!==gt.descriptionTextAlign||o!==gt.descriptionMaxLines?{[V("slide_description_text_align")]:t,[V("slide_description_max_lines")]:o}:null,...r.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((s,l)=>[...l>0?[n.createElement("br",{key:l})]:[],s]):e)):null}const no=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),Ur=q("CaptionsVisible",no()),Br=Zn("CaptionsVisible",no());function Xr(){const{visible:e,show:t,hide:o}=Rt(),{render:r}=W();return r.buttonCaptions?n.createElement(n.Fragment,null,r.buttonCaptions({visible:e,show:t,hide:o})):n.createElement(we,{label:e?"Hide captions":"Show captions",icon:e?Ur:Br,renderIcon:e?r.iconCaptionsVisible:r.iconCaptionsHidden,onClick:e?o:t})}function dn({augment:e,addModule:t}){e(({captions:o,render:{slideFooter:r,...i},toolbar:s,...l})=>{const c=Tt(o);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,r==null?void 0:r({slide:a}),a.title&&n.createElement(Hr,{title:a.title}),a.description&&n.createElement(Zr,{description:a.description})),...i},toolbar:Ae(s,Ht,c.showToggle?n.createElement(Xr,null):null),captions:c,...l}}),t(te(Ht,$r))}const Yr={autoplay:!1,delay:3e3,ref:null},oo=e=>({...Yr,...e}),ro=n.createContext(null),Gr=re("useSlideshow","SlideshowContext",ro);function Kr({slideshow:e,carousel:{finite:t},on:o,children:r}){const{autoplay:i,delay:s,ref:l}=oo(e),c=n.useRef(i),[a,u]=n.useState(i),m=n.useRef(),p=n.useRef(),{slides:b,currentIndex:g}=ie(),{setTimeout:h,clearTimeout:d}=Ve(),{subscribe:f}=xe(),{next:w}=ne(),_=b.length===0||t&&g===b.length-1,T=n.useCallback(()=>{!a&&!_&&u(!0)},[a,_]),R=n.useCallback(()=>{a&&u(!1)},[a]),M=n.useCallback(()=>{d(m.current),m.current=void 0},[d]),L=A(()=>{M(),!(!a||_||p.current===_e||p.current===dt)&&(m.current=h(()=>{a&&(p.current=void 0,w())},s))});n.useEffect(L,[g,a,L]),n.useEffect(()=>{a&&_&&u(!1)},[g,a,_]);const y=A(()=>{var E;return(E=o.slideshowStart)===null||E===void 0?void 0:E.call(o)}),x=A(()=>{var E;return(E=o.slideshowStop)===null||E===void 0?void 0:E.call(o)});n.useEffect(()=>{a?y():c.current&&x(),c.current=a},[a,y,x]),n.useEffect(()=>Fe(M,f(Cn,()=>{p.current=_e,M()}),f(_n,()=>{p.current=dt,M()}),f(No,()=>{p.current=ke,L()}),f(yn,()=>{p.current=Ne,L()})),[f,M,L]);const N=n.useMemo(()=>({playing:a,disabled:_,play:T,pause:R}),[a,_,T,R]);return n.useImperativeHandle(l,()=>N,[N]),n.createElement(ro.Provider,{value:N},r)}const qr=q("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),Jr=q("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function Qr(){const{playing:e,disabled:t,play:o,pause:r}=Gr(),{render:i}=W(),s=Un(ne().focus,t);return i.buttonSlideshow?n.createElement(n.Fragment,null,i.buttonSlideshow({playing:e,disabled:t,play:o,pause:r})):n.createElement(we,{label:e?"Pause":"Play",icon:e?Jr:qr,renderIcon:e?i.iconSlideshowPause:i.iconSlideshowPlay,onClick:e?r:o,disabled:t,...s})}function fn({augment:e,addModule:t}){e(({slideshow:o,toolbar:r,...i})=>({toolbar:Ae(r,Zt,n.createElement(Qr,null)),slideshow:oo(o),...i})),t(te(Zt,Kr))}const ei={auto:!1,ref:null},io=e=>({...ei,...e}),so=n.createContext(null),ti=re("useFullscreen","FullscreenContext",so);function ni({fullscreen:e,children:t}){const{auto:o,ref:r}=io(e),i=n.useRef(null),[s,l]=n.useState(!1),[c,a]=n.useState();ee(()=>{var d,f,w,_;a(!((_=(w=(f=(d=document.fullscreenEnabled)!==null&&d!==void 0?d:document.webkitFullscreenEnabled)!==null&&f!==void 0?f:document.mozFullScreenEnabled)!==null&&w!==void 0?w:document.msFullscreenEnabled)!==null&&_!==void 0&&_))},[]);const u=n.useCallback(()=>{var d,f,w;return(w=(f=(d=document.fullscreenElement)!==null&&d!==void 0?d:document.webkitFullscreenElement)!==null&&f!==void 0?f:document.mozFullScreenElement)!==null&&w!==void 0?w:document.msFullscreenElement},[]),m=n.useCallback(()=>{const d=i.current;if(d)try{d.requestFullscreen?d.requestFullscreen().catch(()=>{}):d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()}catch{}},[]),p=n.useCallback(()=>{if(u())try{document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch{}},[u]),b=n.useCallback(()=>{u()===i.current?l(!0):l(!1)},[u]);n.useEffect(()=>{const d=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];return d.forEach(f=>{document.addEventListener(f,b)}),()=>{d.forEach(f=>{document.removeEventListener(f,b)})}},[b]);const g=A(()=>{var d;return(d=o?m:null)===null||d===void 0?void 0:d()});n.useEffect(()=>(g(),()=>p()),[g,p]);const h=n.useMemo(()=>({fullscreen:s,disabled:c,enter:m,exit:p}),[s,c,m,p]);return n.useImperativeHandle(r,()=>h,[h]),n.createElement("div",{ref:i,className:B(I(Te),I(wt))},n.createElement(so.Provider,{value:h},t))}const oi=q("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),ri=q("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function ii(){var e;const{fullscreen:t,disabled:o,enter:r,exit:i}=ti(),{render:s}=W();return o?null:s.buttonFullscreen?n.createElement(n.Fragment,null,(e=s.buttonFullscreen)===null||e===void 0?void 0:e.call(s,{fullscreen:t,disabled:o,enter:r,exit:i})):n.createElement(we,{disabled:o,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?ri:oi,renderIcon:t?s.iconExitFullscreen:s.iconEnterFullscreen,onClick:t?i:r})}function hn({augment:e,contains:t,addParent:o}){e(({fullscreen:r,toolbar:i,...s})=>({toolbar:Ae(i,Te,n.createElement(ii,null)),fullscreen:io(r),...s})),o(t(Re)?Re:Xe,te(Te,ni))}const me={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0},Ot=e=>({...me,...e});function lo(){const{thumbnails:e}=W();return Ot(e)}const fe=e=>be(Re,e),U=e=>fe(be("thumbnail",e)),si=q("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),li=q("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function ci({slide:e,render:t,rect:o,imageFit:r}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:o,imageFit:r});if(s)return s;const l=I(U(Ue));return Se(e)?n.createElement(Oe,{slide:e,render:t,rect:o,imageFit:r}):e.type==="video"?n.createElement(n.Fragment,null,"poster"in e&&n.createElement("img",{alt:"",src:e.poster,className:B(I(wt),I(fe("contain_image")))}),n.createElement(si,{className:l})):n.createElement(li,{className:l})}const ai=Ee("active"),ct=Ee("fadein"),at=Ee("fadeout"),ui=Ee("placeholder"),mn="delay",pn="duration";function di({slide:e,onClick:t,active:o,fadeIn:r,fadeOut:i,placeholder:s,onLoseFocus:l}){const c=n.useRef(null),{render:a,styles:u}=W(),{width:m,height:p,imageFit:b}=lo(),g={width:m,height:p},h=A(l);return n.useEffect(()=>{i&&document.activeElement===c.current&&h()},[i,h]),n.createElement("button",{ref:c,type:"button",className:B(I(ve),I(U()),o&&I(U(ai())),r&&I(U(ct())),i&&I(U(at())),s&&I(U(ui()))),style:{...r?{[V(U(ct(pn)))]:`${r.duration}ms`,[V(U(ct(mn)))]:`${r.delay}ms`}:null,...i?{[V(U(at(pn)))]:`${i.duration}ms`,[V(U(at(mn)))]:`${i.delay}ms`}:null,...u.thumbnail},onClick:t},e&&ci({slide:e,render:a,rect:g,imageFit:b}))}function gn(e){return["top","bottom"].includes(e)}function $e(e,t,o){return t+2*(e.border+e.padding)+(o?e.gap:0)}function vn({visible:e,containerRef:t}){const o=n.useRef(null),r=Ge(),{publish:i,subscribe:s}=xe(),{carousel:l,styles:c}=W(),{slides:a,globalIndex:u,animation:m}=ie(),{registerSensors:p,subscribeSensors:b}=Bn();Kn(b);const g=lo(),{position:h,width:d,height:f,border:w,borderStyle:_,borderColor:T,borderRadius:R,padding:M,gap:L,vignette:y}=g,x=u,N=(m==null?void 0:m.duration)||0,E=N>0&&(m==null?void 0:m.increment)||0,{prepareAnimation:k}=pt(o,P=>({keyframes:gn(h)?[{transform:`translateX(${(r?-1:1)*$e(g,d,!0)*E+P}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${$e(g,f,!0)*E+P}px)`},{transform:"translateY(0)"}],duration:N,easing:m==null?void 0:m.easing})),H=A(()=>{let P=0;if(t.current&&o.current){const D=t.current.getBoundingClientRect(),$=o.current.getBoundingClientRect();P=gn(h)?$.left-D.left-(D.width-$.width)/2:$.top-D.top-(D.height-$.height)/2}k(P)});n.useEffect(()=>Fe(s(ft,H)),[s,H]);const v=Dn(l,a),O=[];if(Mt(a)){if(E<0)for(let P=x-v+E;P<x-v;P+=1)O.push({slide:null,index:P,placeholder:!0});for(let P=x-v-Math.max(E,0);P<x;P+=1)l.finite&&P<0?O.push({slide:null,index:P,placeholder:!0}):O.push({slide:He(a,P),index:P});O.push({slide:He(a,x),index:x});for(let P=x+1;P<=x+v-Math.min(E,0);P+=1)!l.finite||P<=a.length-1?O.push({slide:He(a,P),index:P}):O.push({slide:null,index:P,placeholder:!0});if(E>0)for(let P=x+v+1;P<=x+v+E;P+=1)O.push({slide:null,index:P,placeholder:!0})}const z=P=>()=>{P>x?i(de,{count:P-x}):P<x&&i(ue,{count:x-P})};return n.createElement("div",{className:B(I(fe("container")),I(ve)),style:{...e?null:{display:"none"},...d!==me.width?{[V(U("width"))]:`${$e(g,d)}px`}:null,...f!==me.height?{[V(U("height"))]:`${$e(g,f)}px`}:null,...w!==me.border?{[V(U("border"))]:`${w}px`}:null,..._?{[V(U("border_style"))]:_}:null,...T?{[V(U("border_color"))]:T}:null,...R!==me.borderRadius?{[V(U("border_radius"))]:`${R}px`}:null,...M!==me.padding?{[V(U("padding"))]:`${M}px`}:null,...L!==me.gap?{[V(U("gap"))]:`${L}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:o,style:c.thumbnailsTrack,className:B(I(fe("track")),I(ve)),tabIndex:-1,...p},O.map(({slide:P,index:D,placeholder:$})=>{const Y=N/Math.abs(E||1),F=E>0&&D>x+v-E&&D<=x+v||E<0&&D<x-v-E&&D>=x-v?{duration:Y,delay:((E>0?D-(x+v-E):x-v-E-D)-1)*Y}:void 0,J=E>0&&D<x-v||E<0&&D>x+v?{duration:Y,delay:(E>0?E-(x-v-D):-E-(D-(x+v)))*Y}:void 0;return n.createElement(di,{key:[`${D}`,$&&"placeholder"].filter(Boolean).join("-"),slide:P,active:D===x,fadeIn:F,fadeOut:J,placeholder:!!$,onClick:z(D),onLoseFocus:()=>{var ae;return(ae=o.current)===null||ae===void 0?void 0:ae.focus()}})})),y&&n.createElement("div",{className:I(fe("vignette"))}))}const co=n.createContext(null),fi=re("useThumbnails","ThumbnailsContext",co);function hi({children:e,...t}){const[o,r]=n.useState(!0),i=n.useRef(null),{ref:s,position:l}=Ot(t.thumbnails),c=n.useMemo(()=>({visible:o,show:()=>r(!0),hide:()=>r(!1)}),[o]);return n.useImperativeHandle(s,()=>c,[c]),n.createElement(zn,{...t},n.createElement(co.Provider,{value:c},n.createElement("div",{ref:i,className:B(I(fe()),I(fe(`${l}`)))},["start","top"].includes(l)&&n.createElement(vn,{containerRef:i,visible:o}),n.createElement("div",{className:I(fe("wrapper"))},e),["end","bottom"].includes(l)&&n.createElement(vn,{containerRef:i,visible:o}))))}const ao=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),mi=q("ThumbnailsVisible",ao()),pi=Zn("ThumbnailsHidden",ao());function gi(){const{visible:e,show:t,hide:o}=fi(),{render:r}=W();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(we,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?mi:pi,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function bn({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:s,toolbar:l,...c})=>{const a=Ot(s);return{toolbar:Ae(l,Re,a.showToggle?n.createElement(gi,null):null),thumbnails:a,...c}});const i=te(Re,hi);t(Te)?o(Te,i):r(Xe,i)}function vi(){const e=En();return S.jsx(wo,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":ut(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":ut(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}function bi({slides:e,disabledZoom:t,disabledVideo:o,disabledTotal:r,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:c,onGetCurrentIndex:a,...u}){const m=e?e.length:0;return S.jsxs(S.Fragment,{children:[S.jsx(vi,{}),S.jsx(xr,{slides:e,animation:{swipe:240},carousel:{finite:m<5},controller:{closeOnBackdropClick:!0},plugins:Ei({disabledZoom:t,disabledVideo:o,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:c}),on:{view:({index:p})=>{a&&a(p)}},toolbar:{buttons:[S.jsx(xi,{totalItems:m,disabledTotal:r},0),"close"]},render:{iconClose:()=>S.jsx(ce,{width:24,icon:"carbon:close"}),iconZoomIn:()=>S.jsx(ce,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>S.jsx(ce,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>S.jsx(ce,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>S.jsx(ce,{width:24,icon:"carbon:pause"}),iconPrev:()=>S.jsx(ce,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>S.jsx(ce,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>S.jsx(ce,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>S.jsx(ce,{width:24,icon:"carbon:fit-to-screen"})},...u})]})}function Ei({disabledZoom:e,disabledVideo:t,disabledCaptions:o,disabledSlideshow:r,disabledThumbnails:i,disabledFullscreen:s}){let l=[dn,hn,fn,bn,un,an];return i&&(l=l.filter(c=>c!==bn)),o&&(l=l.filter(c=>c!==dn)),s&&(l=l.filter(c=>c!==hn)),r&&(l=l.filter(c=>c!==fn)),e&&(l=l.filter(c=>c!==an)),t&&(l=l.filter(c=>c!==un)),l}function xi({totalItems:e,disabledTotal:t}){const{currentIndex:o}=ie();return t?null:S.jsxs(Le,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[S.jsxs("strong",{children:[" ",o+1," "]})," / ",e]})}function wi(e){const[t,o]=n.useState(-1),r=n.useCallback(s=>{const l=e.findIndex(c=>c.type==="video"?c.poster===s:c.src===s);o(l)},[e]),i=n.useCallback(()=>{o(-1)},[]);return{selected:t,open:t>=0,onOpen:r,onClose:i,setSelected:o}}const pe=64,Ci=Co("div")(({length:e,theme:t})=>({position:"relative",margin:t.spacing(0,"auto"),"& .slick-slide":{lineHeight:0},...e===1&&{maxWidth:pe*1+16},...e===2&&{maxWidth:pe*2+32},...(e===3||e===4)&&{maxWidth:pe*3+48},...e>=5&&{maxWidth:pe*6},...e>3&&{"&:before, &:after":{..._o({direction:"to left",startColor:`${ut(t.palette.background.default,0)} 0%`,endColor:`${t.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:pe*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));function Di({product:e}){const t=En(),o=e.images.map(a=>({src:a})),r=wi(o),i=Wt({rtl:!1,draggable:!1,adaptiveHeight:!0}),s=Wt({rtl:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:o.length>3?3:o.length});n.useEffect(()=>{i.onSetNav(),s.onSetNav()},[i,s]),n.useEffect(()=>{r.open&&i.onTogo(r.selected)},[i,r.open,r.selected]);const l=S.jsxs(Le,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[S.jsx($t,{...i.carouselSettings,asNavFor:s.nav,ref:i.carouselRef,children:o.map(a=>S.jsx(yo,{alt:a.src,src:a.src,ratio:"1/1",onClick:()=>r.onOpen(a.src),sx:{cursor:"zoom-in"}},a.src))}),S.jsx(Po,{index:i.currentIndex,total:o.length,onNext:s.onNext,onPrev:s.onPrev})]}),c=S.jsx(Ci,{length:o.length,children:S.jsx($t,{...s.carouselSettings,asNavFor:i.nav,ref:s.carouselRef,children:o.map((a,u)=>S.jsx(Le,{sx:{px:.5},children:S.jsx(So,{alt:a.src,src:a.src,variant:"rounded",sx:{width:pe,height:pe,opacity:.48,cursor:"pointer",...i.currentIndex===u&&{opacity:1,border:`solid 2.5px ${t.palette.primary.main}`}}},a.src)},a.src))})});return S.jsxs(Le,{sx:{"& .slick-slide":{float:t.direction==="rtl"?"right":"left"}},children:[l,c,S.jsx(bi,{index:r.selected,slides:o,open:r.open,close:r.onClose,onGetCurrentIndex:a=>r.setSelected(a)})]})}export{Oi as C,Ti as P,Ni as a,ki as b,Di as c,Ri as d,Li as u};
